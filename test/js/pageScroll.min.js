function PageScroll(D){var F=document,j=D.num,B=D.direction,i=D.time,v=D.style,h=D.start,x=true,n=null,z=D.loop,l=D.control,e=D.start,i=D.time,q=D.easing,w=F.getElementById("warp"),p=getPageSizeInf().docHeight,r=getPageSizeInf().docWidth,g=getElementByClass("page"),c={"horizontal":"width","vertical":"height"},k=new animate();function t(I){var H=g[I-1],G=handleStyleTable(H);G.add("cur");G=null;d(H)}function a(G){var H;if(x&&(z||(h<=j&&h>=1))){if(z||(h+G<=j&&h+G>=1)){H=h;if(h+G>j){h=1}else{if(h+G<1){h=j}else{h=h+G}}m(H,h)}}}function y(H){var H=H||window.event,G;G=H.wheelDelta<0||H.detail>0?1:-1;a(G);if(H.preventDefault){H.preventDefault()}else{H.returnValue=false}}function u(I){var I=I||window.event,H=I.keyCode,G;if(H===38){G=-1;a(G)}if(H===40){G=1;a(G)}}var C=[function(J,I){for(var H=0,G;G=B[H];H++){if(G==="top"){I[G]=(J>0?p:-p)+"px"}else{if(G==="left"){I[G]=(J>0?r:-r)+"px"}}}return["opacity:1","top:0px","left:0px"]},function(H,G){G["width"]=0;G["height"]=0;G["left"]="50%";G["top"]="50%";return["opacity:1","width:"+r+"px","height:"+p+"px","top:0%","left:0%"]},function(I,H){var G=B;if(G.length==1){if(G[0]=="top"){H["left"]="50%";if(I<0){H["top"]="100%"}}if(G[0]=="left"){H["top"]="50%";if(I<0){H["left"]="100%"}}}else{H["top"]="50%";if(I<0){H["top"]="100%"}}H["width"]=0;H["height"]=0;return["opacity:1","width:"+r+"px","height:"+p+"px","left:0%","top:0%"]}];function m(N,M){x=false;var L=M-N,K=g[N-1],I=g[M-1],H=I.style,J=handleStyleTable(I),G=handleStyleTable(K);J.add("slide");k.init(I);d(I);k.callback(function(){J.remove("slide");J.add("cur");G.remove("cur");x=true;A(j,h);J=G=null});if(Object.prototype.toString.call(v)=="[object Array]"){console.log(v[M-1]);k.pattern=C[v[M-1]-1](L,H)}else{console.log(Object.prototype.toString(v));k.pattern=C[v-1](L,H)}k.start(k.pattern,i,q)}var f=[function(G,H){G.curElem.style.cssText="display:block";G.warp.style.width=G.width+"px";G.font.style.width=G.width+"px";G.font.parentNode.style[G.direction]=0;G.animate.init(H);G.animate.callback(function(I){this.dom.style.width=I[0]+"px"},G.width);return[G.direction+":"+G.dis+"px"]},function(G,H){G.curElem.style.cssText="display:block";G.warp.style.width=G.width+"px";G.font.style.width=G.width+"px";G.font.parentNode.style.opacity=0;G.animate.init(H);G.animate.callback(function(I){this.dom.style.width=I[0]+"px"},G.width);return["opacity:1"]},function(G,H){G.curElem.style.cssText="display:block";G.warp.style.width=G.width+"px";G.font.style.width=G.width+"px";G.font.parentNode.style[G.direction]=0;G.font.parentNode.style.opacity=0;G.animate.init(H);G.animate.callback(function(I){this.dom.style.width=I[0]+"px"},G.width);return[G.direction+":"+G.dis+"px","opacity:1"]},function(G,H){G.curElem.style.cssText="display:block";G.warp.style.width=G.width+"px";G.font.style.width=G.width+"px";G.warp.style.marginTop=parseInt(G.warp.offsetTop)-100+"px";G.animate.init(G.warp);G.animate.callback(function(I){this.dom.style.width=I[0]+"px"},G.width);return["marginTop:"+(100+parseInt(G.warp.style.marginTop))+"px","opacity:1"]},function(G,H){G.curElem.style.cssText="display:block";G.warp.style.width=G.width+"px";G.font.style.width=G.width+"px";G.warp.style.marginTop=parseInt(G.warp.offsetTop)-100+"px";G.animate.init(G.warp);G.animate.callback(function(I){this.dom.style.width=I[0]+"px";G.animate.start(["marginTop:"+(parseInt(G.warp.style.marginTop)-40)+"px"],G.time,G.timePattern);G.animate.callback(null)},G.width);return["marginTop:"+(140+parseInt(G.warp.style.marginTop))+"px","opacity:1"]}];function E(H,G){this.curElem=G;this.pattern=parseInt(G.getAttribute("font-pattern")||0);this.time=parseInt(G.getAttribute("font-time"))||800;this.timePattern=G.getAttribute("font-timePattern")||"linear";this.direction=c[G.getAttribute("font-direction")||"horizontal"];this.font=G.children[0];this.width=this.font.offsetWidth+5;this.height=this.font.offsetHeight;this.animate=new animate();this.pri=parseInt(G.getAttribute("pri")||0);this.warp=G.parentNode;this.dis=this.direction=="width"?this.width:this.height;this.patternString=null}function d(P){var H=P.getElementsByTagName("*"),R=[],I,Q,N=i;for(var K=0,L=H.length;K<L;K++){var O=parseInt(H[K].getAttribute("font-pattern")),M=handleStyleTable(H[K]);if(O){var J=H[K],G=new E(O,J);G.curElem.style.cssText="display:none";R.push(G)}}if(R.length>0){R.sort(function(){if(arguments[0].pri>arguments[1].pri){return -1}if(arguments[0].pri==arguments[1].pri){return 0}else{return 1}});setTimeout(function(){I=setInterval(function(){var T=[],V=10;while(1){if(T.length==0||(R.length>0&&T[T.length-1].pri===R[0].pri)){T.push(R.shift())}else{if(R.length>0){break}else{if(R.length===0){clearInterval(I);I=null;break}}}}for(var U=0,S=T.length;U<S;U++){T[U].patternString=f[(T[U].pattern-1)||0](T[U],T[U].curElem);T[U].animate.start(T[U].patternString,T[U].time,T[U].timePattern)}T.length=0},800)},i-800>0?i-800:0)}}function A(I,H){var G=n.getElementsByTagName("li");for(var J=0;J<I;J++){G[J].className="";if(J===H-1){G[J].className="cur"}}}function b(H){n=document.createElement("ul");
    n.id="nav";for(var I=0;I<H;I++){var G=document.createElement("li");G.setAttribute("data-index",I+1);if(I===h-1){G.className="cur"}n.appendChild(G)}w.appendChild(n);addEvent(n,"click",function(L){var L=L||window.event,K=L.target||L.srcElement,J=K.getAttribute("data-index");if(J!=h){if(x){a(J-h)}}})}var o={mousewheel:function(){if(window.navigator.userAgent.toLowerCase().indexOf("firefox")!=-1){addEvent(F,"DOMMouseScroll",function(G){y(G)})}else{addEvent(F,"mousewheel",function(G){y(G)})}},keyboard:function(){addEvent(F,"keydown",function(G){u(G)})},nav:function(){b(j);A(j,e)}};function s(I){for(var H=0,G=I.length;H<G;H++){o[I[H]]()}addEvent(window,"resize",function(){p=getPageSizeInf().docHeight;r=getPageSizeInf().docWidth})}return(function(){t(h);setTimeout(function(){s(l)},i)})()}function handleStyleTable(d){var c=d.className,b=c.split(" "),a=new Object();a.remove=function(g){for(var f=0,e=b.length;f<e;f++){if(b[f]===g){b.splice(f,1)}}d.className=b.join(" ")};a.add=function(e){d.className+=" "+e};return a}function addEvent(a,c,b){if(a.addEventListener){a.addEventListener(c,b)}else{if(a.attachEvent){a.attachEvent("on"+c,b)}else{a["on"+c]=b}}}function getPageSizeInf(){var g=document,f=window.pageYOffset||g.documentElement.scrollTop||g.body.scrollTop,a=Math.min(g.documentElement.scrollHeight,g.clientHeight),b=Math.max(g.documentElement.scrollHeight,g.documentElement.clientHeight),e=b-a-f,d=Math.min(g.documentElement.scrollWidth,g.clientWidth),c=Math.max(g.documentElement.scrollWidth,g.documentElement.clientWidth);return{scrollTop:f,viewHeight:a,docHeight:b,scrollBottom:e,viewWidth:d,docWidth:c}}function getElementByClass(c){var d=document.getElementsByTagName("*"),b=[];for(var e=0,a=d.length;e<a;e++){if(d[e].className==c){b.push(d[e])}}elem=b;return elem}function twoDimArray(b){var a=[];for(var c=0;c<b;c++){a.push([])}return a}function UnitBezier(b,a,d,c){this.cx=3*b;this.bx=3*(d-b)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*a;this.by=3*(c-a)-this.cy;this.ay=1-this.cy-this.by}UnitBezier.prototype={epsilon:0.01,sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,h){var g,f,d,b,e,c;for(d=a,c=0;c<8;c++){b=this.sampleCurveX(d)-a;if(Math.abs(b)<h){return d}e=this.sampleCurveDerivativeX(d);if(Math.abs(e)<h){break}d=d-b/e}g=0;f=1;d=a;if(d<g){return g}if(d>f){return f}while(g<f){b=this.sampleCurveX(d);if(Math.abs(b-a)<h){return d}if(a>b){g=d}else{f=d}d=(f-g)*0.5+g}return d},solve:function(a,b){return this.sampleCurveY(this.solveCurveX(a,b))}};var defaultPattern={ease:new UnitBezier(0.25,0.1,0.25,1),linear:new UnitBezier(0,0,1,1),easeIn:new UnitBezier(0.42,0,1,1),easeOut:new UnitBezier(0,0,0.58,1),easeInOut:new UnitBezier(0.42,0,0.58,1)};var speedPattern=function(){if(arguments.length===1&&typeof(arguments[0])==="string"){var b=defaultPattern[arguments[0]]}else{if(arguments[0].length===4){var b=new UnitBezier(arguments[0][0],arguments[0][1],arguments[0][2],arguments[0][3]);for(var a=0;a<4;a++){if(typeof(arguments[0][a])!="number"||arguments[0][a]<0||arguments[0][a]>1){var b=defaultPattern["linear"]}}}}return function(e,d,c,f){return b.solve(e/f,UnitBezier.prototype.epsilon)*(c-d)+d}};function animate(){this.dom=null;this.startTime=0;this.startValue=[];this.endValue=[];this.propertyName=[];this.unit=[];this.easing=null;this.duration=null;this.func=null;this.args=null}animate.prototype.init=function(a){this.dom=a};animate.prototype.start=function(f,e,g){this.startTime=+new Date;this.duration=e;this.easing=speedPattern(g);var b=this;for(var c=0,a=f.length;c<a;c++){(function(h){var i=f[h].split(":");b.propertyName[h]=i[0];if(b.unit[h]=i[1].match(/[a-zA-Z%]{1,}/)){b.unit[h]=i[1].match(/[a-zA-Z%]{1,}/)[0]}else{b.unit[h]=""}b.endValue[h]=parseInt(i[1]);b.startValue[h]=parseInt(b.dom.style[b.propertyName[h]])||0})(c)}var d=function(){var k=+new Date;if(k>=b.startTime+b.duration){for(var j=0,h=f.length;j<h;j++){b.dom.style[b.propertyName[j]]=b.endValue[j]+b.unit[j]}if(b.func){b.func(b.args)}return false}else{var l=[];for(var j=0,h=f.length;j<h;j++){(function(m){l[m]=b.easing(k-b.startTime,b.startValue[m],b.endValue[m],b.duration);b.update(l[m],b.propertyName[m],b.unit[m])})(j)}setTimeout(function(){d()},13)}};d()};animate.prototype.update=function(c,a,b){this.dom.style[a]=c+b};animate.prototype.callback=function(){this.func=Array.prototype.shift.apply(arguments);this.args=arguments};